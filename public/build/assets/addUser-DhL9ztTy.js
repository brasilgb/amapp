import{q as V,r as b,j as e,a as z,y as k}from"./app-BSpTI7g3.js";import{C as E,a as L,b as U,c as A}from"./card-BTQ_EM_a.js";import{z as r,u as I,t as B,F as R,a as n,b as i,d,I as m,e as x,c,L as D,S as T}from"./input-CMcJobAo.js";import{B as h}from"./button-ohafPp-T.js";import{S as u,a as p,b as g,c as f,d as v}from"./select-DTin5ba9.js";import{A as q,r as H,s as M}from"./dataSelect-BW0Lz3WV.js";import{C as O}from"./CustomerLayout-ByJzMeVp.js";import{U as P}from"./user-round-VmL6rthO.js";import{E as S,a as y}from"./eye-7WKA9bh1.js";import"./createLucideIcon-CDc2HlfE.js";import"./index-DoX99EMX.js";const G=r.object({organization_id:r.string(),company_id:r.string().min(1,{message:"Selecione a filial"}),name:r.string().min(1,{message:"Digite um nome"}),email:r.string().min(1,{message:"Digite o e-mail"}),roles:r.string().min(1,{message:"Selecione oa função"}),status:r.string().min(1,{message:"Selecione o status"}),password:r.string().min(8,{message:"A senha deve ter no mínimo 8 caracteres"}),password_confirmation:r.string().min(8,{message:"A senha deve ter no mínimo 8 caracteres"})}).refine(j=>j.password===j.password_confirmation,{message:"As senhas são diferentes",path:["password_confirmation"]}),ne=({organizations:j})=>{const{auth:C,errors:J}=V().props,[w,K]=b.useState(!1),[t,N]=b.useState(!1),a=I({resolver:B(G),defaultValues:{organization_id:C.user.organization_id.toString(),company_id:"",name:"",email:"",password:"",roles:"",status:"",password_confirmation:""}});function _(s){console.log(s),k.post(route("cliusers.store"),s)}return e.jsx(O,{children:e.jsx("div",{className:"p-4 bg-background",children:e.jsxs(E,{children:[e.jsx(L,{children:e.jsxs("div",{className:"flex items-center justify-between border-b pb-2",children:[e.jsxs("div",{className:"flex text-gray-600",children:[e.jsx(P,{size:28,className:"mr-1 "}),e.jsx(U,{className:"text-lg sm:text-xl select-none uppercase",children:"Usuários"})]}),e.jsxs(z,{href:route("cliusers.index"),className:`flex h-9 w-9 shrink-0 items-center justify-center rounded-lg
                                         bg-green-700 hover:bg-green-700/90 text-white transition-colors hover:text-gray-100`,children:[e.jsx(q,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"Voltar aos Usuários"})]})]})}),e.jsx(A,{children:e.jsx("div",{children:e.jsx(R,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(_),className:"space-y-8",children:[e.jsx(n,{control:a.control,name:"organization_id",render:({field:s})=>e.jsxs(i,{className:"hidden",children:[e.jsx(d,{children:e.jsx(m,{placeholder:"",...s})}),e.jsx(x,{})]})}),e.jsxs("div",{className:"grid sm:grid-cols-3 gap-4 mt-4",children:[e.jsx("div",{className:"",children:e.jsx(n,{control:a.control,name:"company_id",render:({field:s})=>{var l;return e.jsxs(i,{className:"flex flex-col",children:[e.jsx(c,{children:"Filial do usuário"}),e.jsxs(u,{onValueChange:s.onChange,defaultValue:s.value,value:s.value,children:[e.jsx(p,{className:"",children:e.jsx(g,{placeholder:"Selecione a filial"})}),e.jsx(f,{children:(l=j[0].company)==null?void 0:l.map((o,F)=>e.jsxs(v,{value:o.subnumber,children:[o.subnumber," - ",o.subname]},F))})]})]})}})}),e.jsx("div",{className:"",children:e.jsx(n,{control:a.control,name:"name",render:({field:s})=>e.jsxs(i,{className:"flex flex-col",children:[e.jsx(c,{children:"Nome"}),e.jsx(d,{children:e.jsx(m,{placeholder:"",...s})}),e.jsx(x,{})]})})}),e.jsx("div",{className:"",children:e.jsx(n,{control:a.control,name:"email",render:({field:s})=>e.jsxs(i,{className:"flex flex-col",children:[e.jsx(c,{children:"E-mail"}),e.jsx(d,{children:e.jsx(m,{placeholder:"",...s})}),e.jsx(x,{})]})})})]}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mt-4",children:[e.jsx("div",{className:"",children:e.jsx(n,{control:a.control,name:"password",render:({field:s})=>e.jsxs(i,{className:"flex flex-col",children:[e.jsx(c,{children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(d,{children:e.jsx(m,{type:t?"text":"password",placeholder:"",...s})}),e.jsx(h,{type:"button",className:"absolute right-0.5 top-0.5",onClick:()=>N(!t),size:"icon",variant:"link",children:t?e.jsx(S,{}):e.jsx(y,{})})]}),e.jsx(x,{})]})})}),e.jsx("div",{children:e.jsx(n,{control:a.control,name:"password_confirmation",render:({field:s})=>e.jsxs(i,{className:"flex flex-col",children:[e.jsx(c,{children:"Repita a senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(d,{children:e.jsx(m,{type:t?"text":"password",placeholder:"",...s})}),e.jsx(h,{type:"button",className:"absolute right-0.5 top-0.5",onClick:()=>N(!t),size:"icon",variant:"link",children:t?e.jsx(S,{}):e.jsx(y,{})})]}),e.jsx(x,{})]})})})]}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mt-4",children:[e.jsx("div",{className:"",children:e.jsx(n,{control:a.control,name:"roles",render:({field:s})=>e.jsxs(i,{className:"flex flex-col",children:[e.jsx(c,{children:"Função do usuário"}),e.jsxs(u,{onValueChange:s.onChange,defaultValue:s.value,value:s.value,children:[e.jsx(p,{className:"",children:e.jsx(g,{placeholder:"Selecione a função"})}),e.jsx(f,{children:H.map((l,o)=>e.jsx(v,{value:l.value,children:l.label},o))})]})]})})}),e.jsx("div",{className:"",children:e.jsx(n,{control:a.control,name:"status",render:({field:s})=>e.jsxs(i,{className:"flex flex-col",children:[e.jsx(c,{children:"Status"}),e.jsxs(u,{onValueChange:s.onChange,defaultValue:s.value,value:s.value,children:[e.jsx(p,{className:"",children:e.jsx(g,{placeholder:"Selecione o status"})}),e.jsx(f,{children:M.map((l,o)=>e.jsx(v,{value:l.value,children:l.label},o))})]})]})})})]}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsxs(h,{className:"flex gap-2 bg-blue-600 hover:bg-blue-600/90",type:"submit",children:[w?e.jsx(D,{size:18,className:"animate-spin"}):e.jsx(T,{size:18}),e.jsx("span",{children:"Salvar"})]})})]})})})})]})})})};export{ne as default};
